{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programmering\\\\webb23-js2-WEBBSHOP.ved-Aiserich-Engblom\\\\frontend\\\\src\\\\components\\\\Product.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios'; // Importera Axios\n\nimport './Product.css'; // Importera din CSS-fil här\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Product({\n  product,\n  onAddToCart\n}) {\n  _s();\n  const imageUrl = product.image || 'standard-bild-url'; // Lägg till URL för standardbild här\n  const [addingToCart, setAddingToCart] = useState(false); // State för att hantera tillägg i kundvagnsstatus\n\n  // Funktion för att göra API-anrop när en produkt läggs till i kundvagnen\n  const addToCart = async () => {\n    try {\n      setAddingToCart(true); // Uppdatera tillägg i kundvagnsstatus till true\n      const response = await axios.post('http://localhost:3000/update-inventory', {\n        productId: product.id,\n        quantity: 1 // Antal att ta bort från lagret (1 st i detta fall)\n      });\n\n      onAddToCart({\n        ...product,\n        stock: response.data.newStock\n      }); // Anta att servern svarar med det nya lagerantalet\n      setAddingToCart(false); // Återställ tillägg i kundvagnsstatus till false\n    } catch (error) {\n      console.error('Error adding to cart:', error);\n      setAddingToCart(false); // Återställ tillägg i kundvagnsstatus till false om det uppstod ett fel\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card h-100\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"sINUt2j6uSDnVCyq5AGhQsHCkXU=\");\n_c = Product;\nProduct.propTypes = {\n  product: PropTypes.shape({\n    image: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    isBestseller: PropTypes.bool,\n    stock: PropTypes.number.isRequired // Lägg till stock i propTypes\n  }).isRequired,\n  onAddToCart: PropTypes.func.isRequired\n};\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","PropTypes","axios","jsxDEV","_jsxDEV","Product","product","onAddToCart","_s","imageUrl","image","addingToCart","setAddingToCart","addToCart","response","post","productId","id","quantity","stock","data","newStock","error","console","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","shape","string","name","isRequired","description","price","number","isBestseller","bool","func","$RefreshReg$"],"sources":["C:/Programmering/webb23-js2-WEBBSHOP.ved-Aiserich-Engblom/frontend/src/components/Product.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios'; // Importera Axios\r\n\r\nimport './Product.css'; // Importera din CSS-fil här\r\n\r\nfunction Product({ product, onAddToCart }) {\r\n  const imageUrl = product.image || 'standard-bild-url'; // Lägg till URL för standardbild här\r\n  const [addingToCart, setAddingToCart] = useState(false); // State för att hantera tillägg i kundvagnsstatus\r\n\r\n  // Funktion för att göra API-anrop när en produkt läggs till i kundvagnen\r\n  const addToCart = async () => {\r\n    try {\r\n      setAddingToCart(true); // Uppdatera tillägg i kundvagnsstatus till true\r\n      const response = await axios.post('http://localhost:3000/update-inventory', {\r\n        productId: product.id,\r\n        quantity: 1, // Antal att ta bort från lagret (1 st i detta fall)\r\n      });\r\n      onAddToCart({ ...product, stock: response.data.newStock }); // Anta att servern svarar med det nya lagerantalet\r\n      setAddingToCart(false); // Återställ tillägg i kundvagnsstatus till false\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      setAddingToCart(false); // Återställ tillägg i kundvagnsstatus till false om det uppstod ett fel\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card h-100\">\r\n      {/* ... Ditt kodutdrag fortsätter här ... */}\r\n    </div>\r\n  );\r\n}\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.shape({\r\n    image: PropTypes.string,\r\n    name: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    isBestseller: PropTypes.bool,\r\n    stock: PropTypes.number.isRequired, // Lägg till stock i propTypes\r\n  }).isRequired,\r\n  onAddToCart: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAC;;AAE3B,OAAO,eAAe,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExB,SAASC,OAAOA,CAAC;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAMC,QAAQ,GAAGH,OAAO,CAACI,KAAK,IAAI,mBAAmB,CAAC,CAAC;EACvD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;EAEzD;EACA,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACFD,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;MACvB,MAAME,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,wCAAwC,EAAE;QAC1EC,SAAS,EAAEV,OAAO,CAACW,EAAE;QACrBC,QAAQ,EAAE,CAAC,CAAE;MACf,CAAC,CAAC;;MACFX,WAAW,CAAC;QAAE,GAAGD,OAAO;QAAEa,KAAK,EAAEL,QAAQ,CAACM,IAAI,CAACC;MAAS,CAAC,CAAC,CAAC,CAAC;MAC5DT,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CV,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;IAC1B;EACF,CAAC;;EAED,oBACER,OAAA;IAAKoB,SAAS,EAAC;EAAY;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEtB,CAAC;AAEV;AAACpB,EAAA,CAzBQH,OAAO;AAAAwB,EAAA,GAAPxB,OAAO;AA2BhBA,OAAO,CAACyB,SAAS,GAAG;EAClBxB,OAAO,EAAEL,SAAS,CAAC8B,KAAK,CAAC;IACvBrB,KAAK,EAAET,SAAS,CAAC+B,MAAM;IACvBC,IAAI,EAAEhC,SAAS,CAAC+B,MAAM,CAACE,UAAU;IACjCC,WAAW,EAAElC,SAAS,CAAC+B,MAAM,CAACE,UAAU;IACxCE,KAAK,EAAEnC,SAAS,CAACoC,MAAM,CAACH,UAAU;IAClCI,YAAY,EAAErC,SAAS,CAACsC,IAAI;IAC5BpB,KAAK,EAAElB,SAAS,CAACoC,MAAM,CAACH,UAAU,CAAE;EACtC,CAAC,CAAC,CAACA,UAAU;EACb3B,WAAW,EAAEN,SAAS,CAACuC,IAAI,CAACN;AAC9B,CAAC;AAED,eAAe7B,OAAO;AAAC,IAAAwB,EAAA;AAAAY,YAAA,CAAAZ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}