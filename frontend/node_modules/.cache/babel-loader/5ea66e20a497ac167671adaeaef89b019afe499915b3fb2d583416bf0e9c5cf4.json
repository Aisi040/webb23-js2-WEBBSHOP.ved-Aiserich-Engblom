{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programmering\\\\webb23-js2-WEBBSHOP.ved-Aiserich-Engblom\\\\frontend\\\\src\\\\components\\\\Product.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './Product.css'; // Importera din CSS-fil här\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Product({\n  product,\n  onAddToCart\n}) {\n  _s();\n  const imageUrl = product.image || 'standard-bild-url'; // Lägg till URL för standardbild här\n  const [addingToCart, setAddingToCart] = useState(false);\n\n  // Ange din server-URL här\n  const serverUrl = 'http://example.com:port'; // Exempel: 'http://myserver.com:8080'\n\n  // Funktion för att göra API-anrop när en produkt läggs till i kundvagnen\n  const addToCart = async () => {\n    try {\n      setAddingToCart(true);\n      await axios.post(`${serverUrl}/update-inventory`, {\n        productId: product.id,\n        quantity: 1\n      });\n      onAddToCart(product);\n      setAddingToCart(false);\n    } catch (error) {\n      console.error('Error adding to cart:', error);\n      setAddingToCart(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card h-100\",\n    children: product.stock > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text\",\n        children: [\"Antal i lager: \", product.stock]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addToCart,\n        className: \"btn btn-primary mt-2\",\n        disabled: addingToCart,\n        children: addingToCart ? 'Lägger till...' : 'Lägg till i kundvagn'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"card-text text-danger\",\n        children: \"Produkten \\xE4r tyv\\xE4rr slut i lager.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addToCart,\n        className: \"btn btn-secondary mt-2\",\n        disabled: true,\n        children: \"L\\xE4gg till i kundvagn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Product, \"sINUt2j6uSDnVCyq5AGhQsHCkXU=\");\n_c = Product;\nProduct.propTypes = {\n  product: PropTypes.shape({\n    // ... dina produktpropstyper ...\n  }).isRequired,\n  onAddToCart: PropTypes.func.isRequired\n};\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","PropTypes","axios","jsxDEV","_jsxDEV","Product","product","onAddToCart","_s","imageUrl","image","addingToCart","setAddingToCart","serverUrl","addToCart","post","productId","id","quantity","error","console","className","children","stock","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_c","propTypes","shape","isRequired","func","$RefreshReg$"],"sources":["C:/Programmering/webb23-js2-WEBBSHOP.ved-Aiserich-Engblom/frontend/src/components/Product.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Product.css'; // Importera din CSS-fil här\r\nimport axios from 'axios';\r\n\r\nfunction Product({ product, onAddToCart }) {\r\n  const imageUrl = product.image || 'standard-bild-url'; // Lägg till URL för standardbild här\r\n  const [addingToCart, setAddingToCart] = useState(false);\r\n\r\n  // Ange din server-URL här\r\n  const serverUrl = 'http://example.com:port'; // Exempel: 'http://myserver.com:8080'\r\n\r\n  // Funktion för att göra API-anrop när en produkt läggs till i kundvagnen\r\n  const addToCart = async () => {\r\n    try {\r\n      setAddingToCart(true);\r\n      await axios.post(`${serverUrl}/update-inventory`, {\r\n        productId: product.id,\r\n        quantity: 1,\r\n      });\r\n      onAddToCart(product);\r\n      setAddingToCart(false);\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      setAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card h-100\">\r\n      {/* ... övrig kod för produktvisning ... */}\r\n      {product.stock > 0 ? (\r\n        <div>\r\n          <p className=\"card-text\">\r\n            Antal i lager: {product.stock}\r\n          </p>\r\n          <button\r\n            onClick={addToCart}\r\n            className=\"btn btn-primary mt-2\"\r\n            disabled={addingToCart}\r\n          >\r\n            {addingToCart ? 'Lägger till...' : 'Lägg till i kundvagn'}\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <p className=\"card-text text-danger\">\r\n            Produkten är tyvärr slut i lager.\r\n          </p>\r\n          <button\r\n            onClick={addToCart}\r\n            className=\"btn btn-secondary mt-2\"\r\n            disabled={true}\r\n          >\r\n            Lägg till i kundvagn\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.shape({\r\n    // ... dina produktpropstyper ...\r\n  }).isRequired,\r\n  onAddToCart: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,eAAe,CAAC,CAAC;AACxB,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,OAAOA,CAAC;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAMC,QAAQ,GAAGH,OAAO,CAACI,KAAK,IAAI,mBAAmB,CAAC,CAAC;EACvD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;;EAEvD;EACA,MAAMa,SAAS,GAAG,yBAAyB,CAAC,CAAC;;EAE7C;EACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACFF,eAAe,CAAC,IAAI,CAAC;MACrB,MAAMV,KAAK,CAACa,IAAI,CAAE,GAAEF,SAAU,mBAAkB,EAAE;QAChDG,SAAS,EAAEV,OAAO,CAACW,EAAE;QACrBC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFX,WAAW,CAACD,OAAO,CAAC;MACpBM,eAAe,CAAC,KAAK,CAAC;IACxB,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CP,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,oBACER,OAAA;IAAKiB,SAAS,EAAC,YAAY;IAAAC,QAAA,EAExBhB,OAAO,CAACiB,KAAK,GAAG,CAAC,gBAChBnB,OAAA;MAAAkB,QAAA,gBACElB,OAAA;QAAGiB,SAAS,EAAC,WAAW;QAAAC,QAAA,GAAC,iBACR,EAAChB,OAAO,CAACiB,KAAK;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B,CAAC,eACJvB,OAAA;QACEwB,OAAO,EAAEd,SAAU;QACnBO,SAAS,EAAC,sBAAsB;QAChCQ,QAAQ,EAAElB,YAAa;QAAAW,QAAA,EAEtBX,YAAY,GAAG,gBAAgB,GAAG;MAAsB;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,gBAENvB,OAAA;MAAAkB,QAAA,gBACElB,OAAA;QAAGiB,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAErC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACJvB,OAAA;QACEwB,OAAO,EAAEd,SAAU;QACnBO,SAAS,EAAC,wBAAwB;QAClCQ,QAAQ,EAAE,IAAK;QAAAP,QAAA,EAChB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnB,EAAA,CAvDQH,OAAO;AAAAyB,EAAA,GAAPzB,OAAO;AAyDhBA,OAAO,CAAC0B,SAAS,GAAG;EAClBzB,OAAO,EAAEL,SAAS,CAAC+B,KAAK,CAAC;IACvB;EAAA,CACD,CAAC,CAACC,UAAU;EACb1B,WAAW,EAAEN,SAAS,CAACiC,IAAI,CAACD;AAC9B,CAAC;AAED,eAAe5B,OAAO;AAAC,IAAAyB,EAAA;AAAAK,YAAA,CAAAL,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}